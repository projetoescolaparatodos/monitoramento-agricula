import { useState, useMemo } from 'react';

interface LatLng {
  lat: number;
  lng: number;
}

// Função para verificar se um caminho está em sentido horário
export function isClockwise(path: LatLng[]): boolean {
  let area = 0;
  for (let i = 0; i < path.length - 1; i++) {
    const p1 = path[i];
    const p2 = path[i + 1];
    area += (p2.lng - p1.lng) * (p2.lat + p1.lat);
  }
  return area > 0;
}

// Função para garantir que um caminho esteja em sentido horário
export function ensureClockwise(path: LatLng[]): LatLng[] {
  return isClockwise(path) ? path : [...path].reverse();
}

// Coordenadas do município de Vitória do Xingu
const MUNICIPALITY_COORDINATES: LatLng[] = [
  { lat: -2.8017371803446, lng: -52.0350368520088 },
  { lat: -2.81587473183036, lng: -52.0297256549434 },
  { lat: -2.82760124890713, lng: -52.0178157461208 },
  { lat: -2.86458312706264, lng: -51.9965231645871 },
  { lat: -2.87688844570624, lng: -51.9650706031582 },
  { lat: -2.88038360271471, lng: -51.9446451278468 },
  { lat: -2.90051153885951, lng: -51.9343478158871 },
  { lat: -2.91710967131398, lng: -51.9175666372641 },
  { lat: -2.91912816024264, lng: -51.9139038415604 },
  { lat: -2.95127971339636, lng: -51.8908915387894 },
  { lat: -2.97067720166013, lng: -51.8832179113206 },
  { lat: -2.97837107554203, lng: -51.8754834969662 },
  { lat: -2.99050672573556, lng: -51.8733786578589 },
  { lat: -3.00458376095707, lng: -51.8635508945484 },
  { lat: -3.01421017007966, lng: -51.8502888802864 },
  { lat: -3.02125456832025, lng: -51.8484588198047 },
  { lat: -3.03298557949914, lng: -51.858427211786 },
  { lat: -3.04425015595719, lng: -51.8533349651256 },
  { lat: -3.05629872657417, lng: -51.8310758749782 },
  { lat: -3.06487157800104, lng: -51.8268179281737 },
  { lat: -3.08197294139575, lng: -51.8276199598528 },
  { lat: -3.08916013653203, lng: -51.8241508273759 },
  { lat: -3.09790027123704, lng: -51.8021542443544 },
  { lat: -3.11249551273821, lng: -51.7939175635417 },
  { lat: -3.11702477065586, lng: -51.7819356961957 },
  { lat: -3.1076448584645, lng: -51.7513533594901 },
  { lat: -3.10346242241429, lng: -51.7435813040122 },
  { lat: -3.10592128798913, lng: -51.7318286795725 },
  { lat: -3.11057313236209, lng: -51.7242662923089 },
  { lat: -3.11748367659669, lng: -51.7240670272057 },
  { lat: -3.123523804475, lng: -51.7171276395338 },
  { lat: -3.12566395752121, lng: -51.7185372635448 },
  { lat: -3.12516103467262, lng: -51.7034341398803 },
  { lat: -3.12515713828849, lng: -51.7033054979488 },
  { lat: -3.12662702730392, lng: -51.6957749257201 },
  { lat: -3.12741719321005, lng: -51.6922717588084 },
  { lat: -3.13235826034878, lng: -51.6703534360007 },
  { lat: -3.1411455618057, lng: -51.6714837472336 },
  { lat: -3.14631039088857, lng: -51.6770763188212 },
  { lat: -3.14319125182883, lng: -51.6779280079752 },
  { lat: -3.14765514530586, lng: -51.6795906123385 },
  { lat: -3.14860270060357, lng: -51.676616007308 },
  { lat: -3.15076144455158, lng: -51.6867487146506 },
  { lat: -3.15700357507669, lng: -51.6847304354692 },
  { lat: -3.15521938701535, lng: -51.6704052631622 },
  { lat: -3.15733140741056, lng: -51.6669314032799 },
  { lat: -3.15871189264231, lng: -51.6748733782484 },
  { lat: -3.15879227378397, lng: -51.668025748435 },
  { lat: -3.15459176030626, lng: -51.6597383209492 },
  { lat: -3.15534359161946, lng: -51.6410224953548 },
  { lat: -3.15096075901123, lng: -51.609612248402 },
  { lat: -3.18923286672687, lng: -51.6185996808045 },
  { lat: -3.25239749603482, lng: -51.6313050323215 },
  { lat: -3.253904873901, lng: -51.6471751027538 },
  { lat: -3.25093864850765, lng: -51.6530772007329 },
  { lat: -3.25776521201623, lng: -51.6577131837285 },
  { lat: -3.25677624926243, lng: -51.6703454559037 },
  { lat: -3.24668628786732, lng: -51.6874234740253 },
  { lat: -3.24377981444712, lng: -51.6856413765551 },
  { lat: -3.2409432039575, lng: -51.6898955455681 },
  { lat: -3.24348844952211, lng: -51.6937479061272 },
  { lat: -3.24788424991785, lng: -51.7019329116306 },
  { lat: -3.25757717917868, lng: -51.6994968863308 },
  { lat: -3.26285072683205, lng: -51.7030677812463 },
  { lat: -3.26364243867954, lng: -51.7126134417721 },
  { lat: -3.26947297244125, lng: -51.7155407047604 },
  { lat: -3.28126087227204, lng: -51.708901451793 },
  { lat: -3.28463880657101, lng: -51.715677258273 },
  { lat: -3.2843243609733, lng: -51.7133214272908 },
  { lat: -3.28956242087928, lng: -51.7143964471874 },
  { lat: -3.29152854201966, lng: -51.7210144550838 },
  { lat: -3.30134194893888, lng: -51.716312234196 },
  { lat: -3.30709470540813, lng: -51.7305709478859 },
  { lat: -3.31234923593248, lng: -51.7289573187318 },
  { lat: -3.31243931561974, lng: -51.7319795878303 },
  { lat: -3.32212829820531, lng: -51.7367895428496 },
  { lat: -3.33173179110725, lng: -51.7666249254546 },
  { lat: -3.33551127900015, lng: -51.7671985905805 },
  { lat: -3.3428634503564, lng: -51.7581232760344 },
  { lat: -3.35162659931122, lng: -51.7375678883212 },
  { lat: -3.36045441095355, lng: -51.7407609656377 },
  { lat: -3.36669078953646, lng: -51.7378130492951 },
  { lat: -3.37341875972443, lng: -51.7399211967651 },
  { lat: -3.37574018612587, lng: -51.7468979327385 },
  { lat: -3.39263350470537, lng: -51.7522051235643 },
  { lat: -3.40420984501838, lng: -51.7482367713672 },
  { lat: -3.42339446345903, lng: -51.7514317729951 },
  { lat: -3.4311671271565, lng: -51.7370958447855 },
  { lat: -3.44402947140734, lng: -51.7299020373347 },
  { lat: -3.43850922344589, lng: -51.7302930788542 },
  { lat: -3.45177036197146, lng: -51.7183995100177 },
  { lat: -3.46637984270841, lng: -51.7126777404387 },
  { lat: -3.47697859724243, lng: -51.7235697226741 },
  { lat: -3.48706252536467, lng: -51.7229767110089 },
  { lat: -3.48004759915404, lng: -51.7594252230185 },
  { lat: -3.4882543619601, lng: -51.768072583068 },
  { lat: -3.4835188719756, lng: -51.7947040287319 },
  { lat: -3.48981822187665, lng: -51.8077489324372 },
  { lat: -3.49443411755398, lng: -51.8088694999976 },
  { lat: -3.49811686130353, lng: -51.8028157425096 },
  { lat: -3.50271603026739, lng: -51.8029733201153 },
  { lat: -3.51621680817819, lng: -51.8132837098237 },
  { lat: -3.53382863365913, lng: -51.8251795338323 },
  { lat: -3.53355561655577, lng: -51.8386435693598 },
  { lat: -3.54909716694874, lng: -51.8524815553101 },
  { lat: -3.54956746415858, lng: -51.8627507739842 },
  { lat: -3.5590035822741, lng: -51.8672436735083 },
  { lat: -3.56494307580202, lng: -51.8833796012224 },
  { lat: -3.57063319449122, lng: -51.8842891339356 },
  { lat: -3.58169049821787, lng: -51.8789515843925 },
  { lat: -3.58224823032921, lng: -51.892676325478 },
  { lat: -3.58837622229884, lng: -51.8965155054546 },
  { lat: -3.59056230708858, lng: -51.9039532258054 },
  { lat: -3.58816177891243, lng: -51.9058263521148 },
  { lat: -3.56218674035992, lng: -51.9337912689988 },
  { lat: -3.5470712243176, lng: -51.9401233463563 },
  { lat: -3.51665487724802, lng: -51.9468432356025 },
  { lat: -3.49301007635349, lng: -51.9415939115786 },
  { lat: -3.47824377772871, lng: -51.9470438211323 },
  { lat: -3.47223633710388, lng: -51.9523710804558 },
  { lat: -3.47704329480246, lng: -51.9581231957774 },
  { lat: -3.4451884600432, lng: -51.9594684268192 },
  { lat: -3.42961916154375, lng: -51.9472014006276 },
  { lat: -3.41382826032176, lng: -51.9512323964411 },
  { lat: -3.39741983420211, lng: -51.9654304753793 },
  { lat: -3.38518510444823, lng: -51.9803229678974 },
  { lat: -3.36736803967322, lng: -51.9868711941252 },
  { lat: -3.36155175275274, lng: -51.9984840986852 },
  { lat: -3.31107009279322, lng: -52.0247347761893 },
  { lat: -3.30238155086374, lng: -52.0323184227755 },
  { lat: -3.30002783387201, lng: -52.0395142723222 },
  { lat: -3.27847166555741, lng: -52.0541679587408 },
  { lat: -3.26661330947356, lng: -52.0587085933425 },
  { lat: -3.25728582553765, lng: -52.0822094178472 },
  { lat: -3.24071604654964, lng: -52.0914001430859 },
  { lat: -3.22006202414416, lng: -52.1159023996768 },
  { lat: -3.21273142995192, lng: -52.1166986191017 },
  { lat: -3.2020514146418, lng: -52.1083508164037 },
  { lat: -3.19494765462965, lng: -52.1086256544549 },
  { lat: -3.19792383330516, lng: -52.1197874185408 },
  { lat: -3.18548231929688, lng: -52.1282366319688 },
  { lat: -3.17610694873053, lng: -52.1299404658044 },
  { lat: -3.17487671563364, lng: -52.1388793121097 },
  { lat: -3.16959387428322, lng: -52.1460520657746 },
  { lat: -3.15390310157886, lng: -52.1589704444013 },
  { lat: -3.14998480209647, lng: -52.1671481315982 },
  { lat: -3.13866990941991, lng: -52.1681197276041 },
  { lat: -3.11658615514505, lng: -52.1628969585028 },
  { lat: -3.10182330073209, lng: -52.1781262264195 },
  { lat: -3.09070389810943, lng: -52.1835150553633 },
  { lat: -3.09063244413044, lng: -52.1834881877022 },
  { lat: -3.07474800575227, lng: -52.2029565131297 },
  { lat: -3.07377656670267, lng: -52.2100758118936 },
  { lat: -3.06590407814476, lng: -52.2201059436436 },
  { lat: -3.04166140153837, lng: -52.2262288064219 },
  { lat: -3.00679219011957, lng: -52.2252060083418 },
  { lat: -2.99441933882188, lng: -52.2318339834184 },
  { lat: -2.98871684406832, lng: -52.2443727359757 },
  { lat: -2.99161603229921, lng: -52.2655072425269 },
  { lat: -3.0006034154369, lng: -52.2732102835216 },
  { lat: -3.0004842814639, lng: -52.2796125260616 },
  { lat: -3.03371173903262, lng: -52.2981247343257 },
  { lat: -3.04748778604223, lng: -52.3198442561522 },
  { lat: -3.05463399854129, lng: -52.3444809888876 },
  { lat: -3.06565738975847, lng: -52.3505732412305 },
  { lat: -3.06831267519672, lng: -52.3572172178634 },
  { lat: -3.07550966686071, lng: -52.3592672126482 },
  { lat: -3.07192499204489, lng: -52.3654592587707 },
  { lat: -3.0562698648632, lng: -52.3695797431567 },
  { lat: -3.03779433479666, lng: -52.365416427834 },
  { lat: -3.00634811324865, lng: -52.3489810492712 },
  { lat: -2.9858987612703, lng: -52.3247773961669 },
  { lat: -2.97225498416686, lng: -52.31747502028 },
  { lat: -2.93729220596512, lng: -52.316605689162 },
  { lat: -2.90631511975897, lng: -52.3236901765118 },
  { lat: -2.89716373310528, lng: -52.3190426539566 },
  { lat: -2.88395860489663, lng: -52.2899810526488 },
  { lat: -2.87006707164614, lng: -52.2799810945949 },
  { lat: -2.84877061745947, lng: -52.2742313280473 },
  { lat: -2.8302152151491, lng: -52.2764867034406 },
  { lat: -2.81300865613122, lng: -52.2564582253542 },
  { lat: -2.81018095219951, lng: -52.2270252787592 },
  { lat: -2.81302299936669, lng: -52.1774588933382 },
  { lat: -2.80204607047003, lng: -52.1215861819478},
  { lat: -2.79446643082999, lng: -52.1048778474175 },
  { lat: -2.79250589297019, lng: -52.0438535536805 },
  { lat: -2.8017371803446, lng: -52.0350368520088 },
];

export function useKmlBoundary() {
  const boundaryCoordinates = useMemo(() => MUNICIPALITY_COORDINATES, []);
  const loading = false;
  const error = null;
  const usingFixedCoordinates = true;

  return { 
    boundaryCoordinates, 
    loading, 
    error, 
    usingFixedCoordinates 
  };
}