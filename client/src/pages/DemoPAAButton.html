
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Botão PAA</title>
  <style>
    .paa-button {
      background-color: #f59e0b;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 4px;
      cursor: pointer;
      display: flex;
      align-items: center;
      font-family: sans-serif;
    }
    .paa-button:hover {
      background-color: #d97706;
    }
    .icon {
      margin-right: 8px;
    }
  </style>
</head>
<body>
  <h1>Teste de botão PAA</h1>
  
  <button class="paa-button" onclick="openChatPAA()">
    <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 15s-2-4-2-5.5A5.5 5.5 0 0 0 13.5 4h-3A5.5 5.5 0 0 0 5 9.5 5.5 5.5 0 0 0 10.5 15h5"></path>
      <circle cx="18" cy="18" r="3"></circle>
    </svg>
    Abrir Chat PAA
  </button>

  <script>
    function openChatPAA() {
      // Salvar a preferência no localStorage
      localStorage.setItem('chatbot_tab', 'paa');
      
      // Definir a âncora na URL
      window.location.hash = `chatbot-tab=paa`;
      
      // Disparar o evento personalizado que o ChatbotWidget escuta
      window.dispatchEvent(new CustomEvent('open-chatbot', { detail: { tab: 'paa' } }));
      
      // Aguardar um pouco e clicar no botão do chatbot
      setTimeout(() => {
        const chatbotButton = document.querySelector('[data-chatbot-button]');
        if (chatbotButton) {
          chatbotButton.click();
          
          // Aguardar mais um pouco para o chatbot abrir e então clicar na aba PAA
          setTimeout(() => {
            const paaTab = document.querySelector('[value="paa"]');
            if (paaTab) {
              paaTab.click();
            }
          }, 300);
        }
      }, 100);
    }
  </script>
</body>
</html>
