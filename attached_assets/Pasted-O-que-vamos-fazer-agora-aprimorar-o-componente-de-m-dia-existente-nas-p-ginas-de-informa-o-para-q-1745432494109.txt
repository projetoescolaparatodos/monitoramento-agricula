O que vamos fazer agora √© aprimorar o componente de m√≠dia existente nas p√°ginas de informa√ß√£o para que ele:

    Detecte links do YouTube

    Exiba v√≠deos de forma embedada

    Mantenha compatibilidade com imagens ou outros tipos de link

üõ†Ô∏è Etapas para aprimorar a exibi√ß√£o das m√≠dias
1. üì¶ Crie uma fun√ß√£o utilit√°ria para identificar v√≠deos do YouTube

// utils/isYoutubeUrl.ts
export const isYoutubeUrl = (url: string) => {
  const regex = /^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/.+$/;
  return regex.test(url);
};

export const getYoutubeEmbedUrl = (url: string) => {
  const match = url.match(
    /(?:youtu\.be\/|youtube\.com\/(?:watch\?v=|embed\/|v\/))([a-zA-Z0-9_-]{11})/
  );
  return match ? `https://www.youtube.com/embed/${match[1]}` : null;
};

2. üß© Atualize o componente que exibe m√≠dias nas p√°ginas

Suponha que voc√™ tenha algo como:

// components/MidiaCard.tsx
import { isYoutubeUrl, getYoutubeEmbedUrl } from "@/utils/isYoutubeUrl";

interface MidiaCardProps {
  url: string;
}

export function MidiaCard({ url }: MidiaCardProps) {
  if (isYoutubeUrl(url)) {
    const embedUrl = getYoutubeEmbedUrl(url);
    if (!embedUrl) return null;

    return (
      <div className="aspect-video w-full">
        <iframe
          className="w-full h-full rounded-lg shadow"
          src={embedUrl}
          title="V√≠deo do YouTube"
          allowFullScreen
        />
      </div>
    );
  }

  return (
    <div>
      <img src={url} alt="Midia enviada" className="w-full rounded-lg shadow" />
    </div>
  );
}

3. üß© Atualize as p√°ginas (Agriculture, PAAinfo, Fishing)

// pages/Agriculture.tsx
import { MidiaCard } from "@/components/MidiaCard";
import { useQuery } from "@tanstack/react-query";
import axios from "axios";

export default function Agriculture() {
  const { data: midias } = useQuery({
    queryKey: ["midias", "agriculture"],
    queryFn: async () => {
      const { data } = await axios.get("/api/midias?setor=agriculture");
      return data;
    },
  });

  return (
    <section className="p-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
      {midias?.map((m: any) => (
        <MidiaCard key={m.id} url={m.link} />
      ))}
    </section>
  );
}

    Fa√ßa o mesmo nas p√°ginas Fishing.tsx e PAAinfo.tsx trocando o setor correspondente na queryKey.

‚úÖ Resultado

    Se o link for do YouTube, ele ser√° embedado com iframe

    Se for imagem (JPG, PNG, etc.), aparecer√° normalmente

    Totalmente din√¢mico com base nos dados cadastrados via dashboard