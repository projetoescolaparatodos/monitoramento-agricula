os textos no PDF estÃ£o aparecendo sobrepostos ou desorganizados.

Isso acontece com frequÃªncia quando se usa a biblioteca jsPDF, especialmente quando:

ðŸ§© Causas Comuns de Texto Sobreposto no PDF com jsPDF
Linhas de texto muito longas sem quebra automÃ¡tica (doc.text(...) nÃ£o quebra por padrÃ£o).

Posicionamento vertical (y) manual sem atualizaÃ§Ã£o conforme o conteÃºdo anterior.

Falta de controle de altura do texto renderizado (por exemplo, doc.text com textos multiline sem usar splitTextToSize).

Uso de fontes grandes ou mÃºltiplos estilos sem espaÃ§amento adequado.

âœ… SoluÃ§Ã£o: Como Corrigir a SobreposiÃ§Ã£o de Texto
âœ… 1. Use splitTextToSize para quebrar textos longos
ts
Copiar
Editar
const pageWidth = doc.internal.pageSize.getWidth();
const margin = 20;
const maxLineWidth = pageWidth - margin * 2;

const wrappedText = doc.splitTextToSize(longText, maxLineWidth);
doc.text(wrappedText, margin, yPos);
yPos += wrappedText.length * lineHeight; // Atualize y corretamente
âœ… 2. Crie uma funÃ§Ã£o auxiliar addSection com controle de altura
ts
Copiar
Editar
const addSection = (title: string, content: string) => {
  doc.setFontSize(12);
  doc.setFont(undefined, 'bold');
  doc.text(title, 20, yPos);
  yPos += lineHeight;

  doc.setFont(undefined, 'normal');
  const lines = doc.splitTextToSize(content || '---', maxLineWidth);
  doc.text(lines, 20, yPos);
  yPos += lines.length * lineHeight + 4; // Adiciona espaÃ§amento
};
âœ… 3. Verifique a fonte e tamanho
Mantenha a consistÃªncia nas fontes:

ts
Copiar
Editar
doc.setFont('Helvetica', 'normal');
doc.setFontSize(11);
ðŸ’¡ Exemplo Completo de SeÃ§Ã£o Corrigida
ts
Copiar
Editar
const generatePDF = (solicitacao) => {
  const doc = new jsPDF();
  let yPos = 20;
  const lineHeight = 7;
  const pageWidth = doc.internal.pageSize.getWidth();
  const margin = 20;
  const maxLineWidth = pageWidth - margin * 2;

  doc.setFontSize(16);
  doc.setFont(undefined, 'bold');
  doc.text('RelatÃ³rio de SolicitaÃ§Ã£o - Agricultura', margin, yPos);
  yPos += lineHeight * 2;

  const addSection = (title, content) => {
    doc.setFontSize(12);
    doc.setFont(undefined, 'bold');
    doc.text(title, margin, yPos);
    yPos += lineHeight;

    doc.setFont(undefined, 'normal');
    const lines = doc.splitTextToSize(content || '---', maxLineWidth);
    doc.text(lines, margin, yPos);
    yPos += lines.length * lineHeight + 4;
  };

  addSection("Nome do Solicitante", solicitacao?.nome || '');
  addSection("CPF", solicitacao?.cpf || '');
  addSection("DescriÃ§Ã£o do ServiÃ§o", solicitacao?.descricao || '');
  // Adicione outras seÃ§Ãµes...

  doc.save(`solicitacao-${solicitacao?.id}.pdf`);
};
ðŸ› ï¸ RecomendaÃ§Ãµes Extras
Use splitTextToSize sempre que houver chance de overflow horizontal.

Sempre atualize o yPos apÃ³s cada seÃ§Ã£o, proporcional ao nÃºmero de linhas renderizadas.

Mantenha uma margem fixa (ex: 20 px) para evitar cortes laterais.

Se o conteÃºdo for muito grande, considere quebrar para nova pÃ¡gina com:

ts
Copiar
Editar
if (yPos > doc.internal.pageSize.getHeight() - 30) {
  doc.addPage();
  yPos = 20;
}
Se quiser